<!doctype html>
<html lang="en" ng-app="app">

<head>
    <title>NodeJS | Angular 1.5 | Bootstrap 4</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Referenciando o Socket -->
    <script src="/socket.io/socket.io.js"></script>
    <!-- Importando o Bootstrap 4 -->
    <link rel="stylesheet" href="bootstrap/dist/js/bootstrap.min.js">
    <link rel="stylesheet" href="bootstrap/dist/css/bootstrap.min.css">
    <!-- Importando o Angular 1.5.11 -->
    <script src="angular/angular.min.js"></script>
    <!-- Importando o arquivo JS que implementa o controlador -->
    <script src="holding_registers.js"></script>
    <!-- Importando o arquivo de estilo CSS -->
    <link href="holding_registers.css" rel="stylesheet">
    <!-- Utilizando Font Awesome do CDN -->
    <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">
</head>

<body ng-controller="HoldingRegistersCtrl as vm">
    <div class="header">
        <h1 class="header-title">MGMT.IO Solutions</h1>
        <div class="stripe"></div>
    </div>

    <div class="container">

        <a href="slave.html">
        <button type="button" class="btn btn-primary mt-3"><i class="fa fa-arrow-left"></i>  Slaves</button>
        </a>
        <table class="mt-3 bg-white table table-bordered table-striped my-table">
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Address</th>
                    <th scope="col">Last Read</th>
                    <th scope="col">Value</th>
                </tr>
            </thead>
            <tbody ng-repeat="hr in vm.hr">
                <tr>
                    <td>{{hr._id.name}}</td>
                    <td>{{hr._id.address}}</td>
                    <td>{{hr.lastRead | date : "HH:mm:ss:sss" }}</td>
                    <td>{{hr.value}}</td>
                </tr>
            </tbody>
        </table>

        <table class="mt-5 bg-white table table-bordered table-striped my-table">
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Address</th>
                    <th scope="col">Set</th>
                </tr>
            </thead>
            <tbody ng-repeat="hr in vm.writableHR">
                <tr>
                    <td>{{hr.name}}</td>
                    <td>{{hr.address}}</td>
                    <td>
                        <input type="text" ng-model=hr.value>
                        <button type="button" class="btn btn-primary" ng-click=vm.setHRNewValue(hr)>Set Value
                            <i class="fa fa-download"></i></button>
                    </td>
                </tr>
            </tbody>
        </table>

    </div>


    <!-- Importando JQuery3.2.1, Popper e plugins JavaScript -->
    <script src="/jquery/dist/jquery.min.js"></script>
    <script src="/popper.js/dist/umd/popper.min.js"></script>
    <script src="/bootstrap/dist/js/bootstrap.min.js"></script>
</body>

</html>
